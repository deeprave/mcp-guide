---
title: Spring Framework Best Practices
type: agent/instruction
tags: [spring, java, di]
---

# Spring

## Dependency Injection
- Constructor injection over field
- Inject interfaces, not implementations
- Avoid circular dependencies
- `@Qualifier` for disambiguation

## Configuration
- Java-based config over XML
- `@Configuration` classes
- Externalize with `application.properties`
- Profiles for environments
- `@ConfigurationProperties` for properties

## Components
- Stereotypes: `@Service`, `@Repository`, `@Controller`
- Keep focused and single-purpose
- No business logic in controllers
- DTOs for API boundaries

## Spring Boot
- Use starters
- Leverage auto-configuration
- Actuator for monitoring
- Convention over configuration

## Data Access
- Spring Data JPA
- Repository interfaces
- Query methods or `@Query`
- Pagination for large datasets
- `@Transactional` appropriately

## REST APIs
- `@RestController` for endpoints
- `ResponseEntity` for control
- Proper HTTP methods/status codes
- `@ControllerAdvice` for exceptions

## Testing
- `@SpringBootTest` for integration
- `@WebMvcTest` for controllers
- `@DataJpaTest` for repositories
- `@MockBean` for mocking
- Test slices for speed

## Security
- Spring Security for auth
- Password encoding
- `@PreAuthorize` for method security
- CSRF protection
- HTTPS in production

## Performance
- `@Cacheable` for caching
- Connection pooling
- `@Async` for async processing
- Monitor with Actuator

## Avoid
- Don't use field injection in production
- Don't ignore transaction boundaries
- Don't put logic in controllers
