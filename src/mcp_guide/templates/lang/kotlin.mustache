---
title: Kotlin Best Practices
type: agent/instruction
tags: [kotlin, jvm]
---

# Kotlin

## Language
- `val` by default, `var` when needed
- Data classes for DTOs
- Sealed classes for hierarchies
- Extension functions for utilities

## Null Safety
- Prefer non-nullable types
- Safe call: `?.`
- Elvis: `?:`
- `let` for null checks
- Avoid `!!`

## Functions
- Single-expression when appropriate
- Default parameters over overloads
- Named arguments for clarity
- Inline for higher-order functions

## Collections
- Immutable by default
- Operations: `map`, `filter`, `fold`
- Sequences for lazy evaluation
- Destructuring for pairs/data classes

## Coroutines
- `suspend` for async
- Structured concurrency
- Handle cancellation
- Appropriate dispatchers
- Don't block in coroutines

## Classes
- Primary constructors
- `init` blocks for initialisation
- Companion objects for static
- Object declarations for singletons

## Scope Functions
- `let` for null checks/transformations
- `apply` for configuration
- `also` for side effects
- `run` for scoped operations
- `with` for multiple calls

## Interop
- `@JvmStatic` for Java
- `@JvmOverloads` for defaults
- Handle platform types carefully

## Avoid
- Don't overuse `!!`
- Don't ignore null safety
- Don't use Java-style code
- Don't ignore coroutine cancellation
