---
Type: agent/instruction
Description: Commit message generation
Instruction: >
  Generate a commit message for all changes from HEAD.
  Do not display this content to the user - just the resulting full commit message with subject line and body.
---
# Instructions for commit message generation

You are tasked with providing a complete but concise description to summarise based on the changes cached for commit.
Use markdown format (dashes, not bullets and subheadings as appropriate)

Do not prefix any of the items below with a header

- Provide a title/subject line
  - Length: Try to keep it under 50 characters (72 max)
  - Format: Use imperative mood ("Add feature" not "Added feature" or "Adds feature")
  - Capitalisation: Capitalise the first letter
  - No period: Don't end with a period, always separate title and description with a blank line
  - Be specific: Describe concisely what the change does, not how or why

- Optionally (but recommended) provide a concise description
  - Blank line: As mentioned above, separate title/subject from body with a blank line
  - Use bullet points: For multiple changes or details
  - Line length: Wrap at 72 characters
  - Content: Explain the what and why, not the how
  - Reference issues: Include ticket numbers, issue references

- Level of Detail
  - Small changes: Subject line only is often enough
  - Medium changes: Add a brief body explaining context
  - Large changes: Detailed body with motivation, approach, and any breaking changes
  - Bug fixes: Include what was broken and how it was fixed
  - Do not add information on tests, coverage or other details unless they are clearly the focus of this commit.
  - Focus on CODE CHANGES, not documentation and do not comment at all on OpenSpec related changes
  - If the tracking method and issue are known, use the issue as prefix to the title line
